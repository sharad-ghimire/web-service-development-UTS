# HTTP Methods
- HTTP is designed to enable client-server communication.
- HTTP works as a request-response protocol between a client and server
- The two most used HTTP methods are : GET and POST

## GET 
- GET is used to Request a representation of the specific resource.
    - Idempotent! (Only retrieval data; should not have other effects)
    - Can be bookmarked
    - Appear in URL after '?' (never use GET to send sensitive data; the length is limited)

## POST 
- POST submits data to be processed (eg. storing, updating, ordering a product or sending Email)
    - Non-Idempotent!
    - Cannot be bookmarked 
    - The data is included in the body of the request

| | GET | POST |
|-----|----|----|
|Back button / Reload | Harmless | Data will be re-submitted|
|Cached| Can be cached| Not cached|
|History| Parameters remain in browser history| Parameters are not saved in browser history|
|Restrictions on data length | Yes, when sending data, the GET method adds the data to the URL; and the length of a URL is limited| No restrictions|
|Security| GET is less secure compared to POST because data sent is part of the URL | POST is a little safer than GET because the parameters are not stored in browser history or in web server logs|
|Visibility| Data is visible to everyone in the URL | Data is not displayed in the URL|



# JSP 

## Syntax
Java Code is enclosed by `<% ... %>`. Outside those tags, it is normal HTML.

```jsp
<p>This is my JSP Hello World Program, So, 
<% 
    String firstName = request.getParameter("FIRSTNAME");
    out.println("hi "+ firstName);
 %>
</p>
```

## Objects

We can access Java objects from within JSPs. Main types of objects are: 
- Implicit objects (provided by the container)
- Application-specific objects (Local instances, Instances of JavaBeans etc.)

Web container provides a context to provide scope of object. Some of the examples of JSP implicit objects are:
|Object|Description|
|------|-----------|
|request|This is **HttpServletRequest** object associated with the request.|
|response|This is **HttpServletResponse** object associated with the response to the client.|
|out|This is the **PrintWriter** object used to send output to the client.|
|session|This is the **HttpSession** object associated with the request.|
|application|This is the **ServletContext** object associated with application context.|
|config| This is the **ServletConfig** object associated with the page. |
|pageContext| This encapsulates use of server-specific features like higher performance **JspWriters**.|
|page| This is simply a synonym for **this**, and is used to call the methods defined by the translated servlet class.|
|Exception| The **Exception** object allows the exception data to be accessed by designated JSP. |

User makes a "request" to view a page ob the server. Server then executes the requested JSP and send back a "response" to the user. The server "response" contains HTML output generated by the requested JS* Page. Commonly used JSP objects are: `request` and `response`.

## Directive
Directive are instructions to the JSP compiler (translator). Example: `include` includes at translation-time, NOT run-time. Two main directive are `page` and `include`.
```jsp
<%@ directiveName attribute="value" attribute="value" %>
//Note: <%@directive %> tags.

<%@ page import="java.util.*, java.io.*" %>
<%@ include file="copyright.html" %>
```

![JSP](jsp1.png)


## Embedded Code
### Declarations
Declarations executed when page is initialised. It is used to define **class-wide** variables and methods. Declarations must produce no output.
```jsp
<%! Java variables and method declarations %>
<%! int i = 0; %>
<%! int icubed = 0; %>
<%! public int cubed(int j) {
        return (j*j*j);
    }
%>
```
### Scriptlets
Bacially any Java code can go in a scriptlet

```jsp
<%
    try {
        i = Integer.parseInt(request.getParameter("mynum"));
    } catch (NumberFormatException nfe) {
        out.println("Go back and enter a valid number.");
        i = 0;
    }

    icubed = cubed(i);   
%>
```

### Expressions
Expressions are primary for inserting values of Java variables into HTML code without having to type in full as a scriptlet: `<% out.print(i); %>` vs `<%= i %>`

```jsp
<%= Java expression to be evaluated %>

<body>
    <p>You entered the value <%= i %></p>
    <p>That number cubed is <%= icubed %></p>
    <p>I can say the same thing with <%= cubed(i) %></p>
    <p>I can also use Scriptlets to get <% out.println(icubed); %></p>
</body>
```

### Standard Actions
Actions are well-known tags that affect the runtime behaviour.  Some examples are `<jsp:include .../>`, `<jsp:useBean>`, `<jsp:forward>` etc.
```jsp
<jsp:include page="my.jsp" flush="true" />
```
Include action vs. include directive:
- Include directive - JSP doesnot compile if there is any change in included file only (no changes in source file).
- Include action - better choice for including dynamic resources.


### Expression Lanaguage
Expression Language (EL) introduced with JSP 2.4 & J2EE 1.4. It complements JSP Expressions with simpler syntax. 
```jsp
${object}
//Each ${object} would be same as <%= object %>
```
Supports:
- JSP implicit objects
- JavaBeans
- Simple Calculations

